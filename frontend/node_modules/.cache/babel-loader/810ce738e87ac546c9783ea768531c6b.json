{"ast":null,"code":"import _slicedToArray from\"/Users/gonzaloberro/Documents/React Project/HealthAppWar/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import Grid from\"@material-ui/core/Grid\";import Select from\"@material-ui/core/Select\";import FormControl from\"@material-ui/core/FormControl\";import Button from\"@material-ui/core/Button\";import InputLabel from\"@material-ui/core/InputLabel\";import TextareaAutosize from\"@material-ui/core/TextareaAutosize\";import MenuItem from\"@material-ui/core/MenuItem\";import FormControlLabel from\"@material-ui/core/FormControlLabel\";import Checkbox from\"@material-ui/core/Checkbox\";import{makeStyles}from\"@material-ui/core/styles\";import TextField from\"@material-ui/core/TextField\";import EditAgendaHeader from\"./EditAgendaHeader\";import ProgramarAgenda from\"./ProgramarAgenda\";import{horarios}from\"./itemsAgendaData\";import{useSelector,useDispatch}from\"react-redux\";import{addTurno,borrarTurno}from\"../../../actions/AgendaActions\";import{setDoctor,setHorario,setPaciente,setProgramar,setServicio,setNota}from\"../../../actions/EditTurnoActions\";export default function EditAgendaItem(){var classes=useStyles();var dispatch=useDispatch();var turno_info=useSelector(function(state){return state.editTurnoReducer;});//Para saber si estoy o no logueado en el sistema\nvar fechaCalendario=useSelector(function(state){return state.agenda_reducer.fecha_agenda;});var fechaString=function fechaString(){var ye=new Intl.DateTimeFormat(\"es\",{year:\"numeric\"}).format(fechaCalendario);var mo=new Intl.DateTimeFormat(\"es\",{month:\"2-digit\"}).format(fechaCalendario);var da=new Intl.DateTimeFormat(\"es\",{day:\"2-digit\"}).format(fechaCalendario);return ye+\"-\"+mo+\"-\"+da;};var _useState=useState(fechaString()),_useState2=_slicedToArray(_useState,2),fechaTurno=_useState2[0],setFechaTurno=_useState2[1];useEffect(function(){if(turno_info.fecha!==\"\")setFechaTurno(turno_info.fecha);},[turno_info]);var changeProgramar=function changeProgramar(){dispatch(setProgramar(turno_info.programar===0?1:0));};var crearTurno=function crearTurno(){if(turno_info.paciente!==\"\"&&turno_info.doctor!==\"\"&&turno_info.horario!==\"\"){var turno={horario:turno_info.horario,turno:{paciente:turno_info.paciente,doctor:turno_info.doctor,servicio:turno_info.servicio,fecha:fechaTurno,programar:turno_info.programar,nota:turno_info.nota}};dispatch(addTurno(turno));}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(EditAgendaHeader,null),/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",fullWidth:true,className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-outlined-label\"},\"Doctor\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",onChange:function onChange(event){return dispatch(setDoctor(event.target.value));},label:\"Doctor\",value:turno_info.doctor,fullWidth:true},/*#__PURE__*/React.createElement(MenuItem,{value:\"Gines Gonzales\"},\"Gines Gonzales\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"Rene Favaloro\"},\"Rene Favaloro\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"Conrad Hawkings\"},\"Conrad Hawkings\"))),/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",fullWidth:true,className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-outlined-label\"},\"Paciente\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",onChange:function onChange(event){return dispatch(setPaciente(event.target.value));},label:\"Paciente\",value:turno_info.paciente,fullWidth:true},/*#__PURE__*/React.createElement(MenuItem,{value:\"Ignacio Ledesma\"},\"Ignacio Ledesma\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"Gonzalo Berro\"},\"Gonzalo Berro\"),/*#__PURE__*/React.createElement(MenuItem,{value:\"Matias Solimo\"},\"Matias Solimo\"))),/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",fullWidth:true,className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-outlined-label\"},\"Servicio\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",label:\"Servicio\",onChange:function onChange(event){return dispatch(setServicio(event.target.value));},value:turno_info.servicio,fullWidth:true},/*#__PURE__*/React.createElement(MenuItem,{value:30},\"FSINET\"))),/*#__PURE__*/React.createElement(Grid,{container:true},/*#__PURE__*/React.createElement(Grid,{item:true,md:6,xs:12},/*#__PURE__*/React.createElement(\"form\",{className:classes.container,noValidate:true},/*#__PURE__*/React.createElement(TextField,{id:\"date\",label:\"Fecha\",type:\"date\",value:fechaTurno,variant:\"outlined\",onChange:function onChange(event){return setFechaTurno(event.target.value);},className:classes.textField,InputLabelProps:{shrink:true}}))),/*#__PURE__*/React.createElement(Grid,{item:true,md:6,xs:12},/*#__PURE__*/React.createElement(FormControl,{variant:\"outlined\",fullWidth:true,className:classes.formControl},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-outlined-label\"},\"Horario\"),/*#__PURE__*/React.createElement(Select,{labelId:\"demo-simple-select-outlined-label\",id:\"demo-simple-select-outlined\",label:\"Instituci\\xF3n\",value:turno_info.horario,onChange:function onChange(event){return dispatch(setHorario(event.target.value));},fullWidth:true},horarios.map(function(horario){return/*#__PURE__*/React.createElement(MenuItem,{key:horario,value:horario},horario);}))))),/*#__PURE__*/React.createElement(\"form\",{className:classes.container,noValidate:true},/*#__PURE__*/React.createElement(InputLabel,{id:\"demo-simple-select-outlined-label\"},\"Notas\"),/*#__PURE__*/React.createElement(TextareaAutosize,{rowsMax:4,className:classes.textArea,value:turno_info.nota,onChange:function onChange(event){return dispatch(setNota(event.target.value));},\"aria-label\":\"maximum height\"})),/*#__PURE__*/React.createElement(FormControlLabel,{className:classes.checkBoxContainer,control:/*#__PURE__*/React.createElement(Checkbox,{checked:turno_info.programar===1?true:false,onChange:changeProgramar,name:\"checkedB\",color:\"primary\"}),label:\"Programar\"}),/*#__PURE__*/React.createElement(ProgramarAgenda,{programar:turno_info.programar}),/*#__PURE__*/React.createElement(Grid,{container:true,style:{marginTop:20}},/*#__PURE__*/React.createElement(Grid,{item:true,md:4,xs:12},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"default\",fullWidth:true,onClick:function onClick(){return dispatch(borrarTurno(turno_info.index,turno_info.horario));}},\"Eliminar\")),/*#__PURE__*/React.createElement(Grid,{item:true,md:8,xs:12},/*#__PURE__*/React.createElement(Button,{variant:\"contained\",color:\"primary\",fullWidth:true,onClick:crearTurno},\"Guardar\"))));}var useStyles=makeStyles(function(theme){return{formControl:{margin:10},container:{margin:10,marginRight:0,paddingRight:0,width:\"100%\"},textField:{width:\"100%\"},spanRepetir:{paddingTop:20},checkBoxContainer:{margin:10,color:\"#0000008a\",borderTop:\"1px solid #ccc\",width:\"100%\"},textArea:{width:\"100%\",maxWidth:\"100%\",minWidth:\"100%\",minHeight:100,maxHeight:100,borderColor:\"#c4c4c4\",borderRadius:5,marginTop:5},gridContainer:{border:\"1px solid #ccc\",padding:30,paddingTop:0}};});","map":{"version":3,"sources":["/Users/gonzaloberro/Documents/React Project/HealthAppWar/frontend/src/components/Logged/Agenda/EditAgendaItem.jsx"],"names":["React","useState","useEffect","Grid","Select","FormControl","Button","InputLabel","TextareaAutosize","MenuItem","FormControlLabel","Checkbox","makeStyles","TextField","EditAgendaHeader","ProgramarAgenda","horarios","useSelector","useDispatch","addTurno","borrarTurno","setDoctor","setHorario","setPaciente","setProgramar","setServicio","setNota","EditAgendaItem","classes","useStyles","dispatch","turno_info","state","editTurnoReducer","fechaCalendario","agenda_reducer","fecha_agenda","fechaString","ye","Intl","DateTimeFormat","year","format","mo","month","da","day","fechaTurno","setFechaTurno","fecha","changeProgramar","programar","crearTurno","paciente","doctor","horario","turno","servicio","nota","formControl","event","target","value","container","textField","shrink","map","textArea","checkBoxContainer","marginTop","index","theme","margin","marginRight","paddingRight","width","spanRepetir","paddingTop","color","borderTop","maxWidth","minWidth","minHeight","maxHeight","borderColor","borderRadius","gridContainer","border","padding"],"mappings":"wLAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,IAAP,KAAiB,wBAAjB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,WAAP,KAAwB,+BAAxB,CACA,MAAOC,CAAAA,MAAP,KAAmB,0BAAnB,CACA,MAAOC,CAAAA,UAAP,KAAuB,8BAAvB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oCAA7B,CACA,MAAOC,CAAAA,QAAP,KAAqB,4BAArB,CACA,OAASC,UAAT,KAA2B,0BAA3B,CACA,MAAOC,CAAAA,SAAP,KAAsB,6BAAtB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,oBAA7B,CACA,MAAOC,CAAAA,eAAP,KAA4B,mBAA5B,CACA,OAASC,QAAT,KAAyB,mBAAzB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,QAAT,CAAmBC,WAAnB,KAAsC,gCAAtC,CACA,OACEC,SADF,CAEEC,UAFF,CAGEC,WAHF,CAIEC,YAJF,CAKEC,WALF,CAMEC,OANF,KAOO,mCAPP,CASA,cAAe,SAASC,CAAAA,cAAT,EAA0B,CACvC,GAAMC,CAAAA,OAAO,CAAGC,SAAS,EAAzB,CACA,GAAMC,CAAAA,QAAQ,CAAGZ,WAAW,EAA5B,CACA,GAAMa,CAAAA,UAAU,CAAGd,WAAW,CAAC,SAACe,KAAD,QAAWA,CAAAA,KAAK,CAACC,gBAAjB,EAAD,CAA9B,CAAmE;AACnE,GAAMC,CAAAA,eAAe,CAAGjB,WAAW,CACjC,SAACe,KAAD,QAAWA,CAAAA,KAAK,CAACG,cAAN,CAAqBC,YAAhC,EADiC,CAAnC,CAIA,GAAMC,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACxB,GAAMC,CAAAA,EAAE,CAAG,GAAIC,CAAAA,IAAI,CAACC,cAAT,CAAwB,IAAxB,CAA8B,CAAEC,IAAI,CAAE,SAAR,CAA9B,EAAmDC,MAAnD,CACTR,eADS,CAAX,CAGA,GAAMS,CAAAA,EAAE,CAAG,GAAIJ,CAAAA,IAAI,CAACC,cAAT,CAAwB,IAAxB,CAA8B,CAAEI,KAAK,CAAE,SAAT,CAA9B,EAAoDF,MAApD,CACTR,eADS,CAAX,CAGA,GAAMW,CAAAA,EAAE,CAAG,GAAIN,CAAAA,IAAI,CAACC,cAAT,CAAwB,IAAxB,CAA8B,CAAEM,GAAG,CAAE,SAAP,CAA9B,EAAkDJ,MAAlD,CACTR,eADS,CAAX,CAGA,MAAOI,CAAAA,EAAE,CAAG,GAAL,CAAWK,EAAX,CAAgB,GAAhB,CAAsBE,EAA7B,CACD,CAXD,CARuC,cAqBH5C,QAAQ,CAACoC,WAAW,EAAZ,CArBL,wCAqBhCU,UArBgC,eAqBpBC,aArBoB,eAuBvC9C,SAAS,CAAC,UAAM,CACd,GAAI6B,UAAU,CAACkB,KAAX,GAAqB,EAAzB,CAA6BD,aAAa,CAACjB,UAAU,CAACkB,KAAZ,CAAb,CAC9B,CAFQ,CAEN,CAAClB,UAAD,CAFM,CAAT,CAIA,GAAMmB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,EAAM,CAC5BpB,QAAQ,CAACN,YAAY,CAACO,UAAU,CAACoB,SAAX,GAAyB,CAAzB,CAA6B,CAA7B,CAAiC,CAAlC,CAAb,CAAR,CACD,CAFD,CAGA,GAAMC,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,EAAM,CACvB,GACErB,UAAU,CAACsB,QAAX,GAAwB,EAAxB,EACAtB,UAAU,CAACuB,MAAX,GAAsB,EADtB,EAEAvB,UAAU,CAACwB,OAAX,GAAuB,EAHzB,CAIE,CACA,GAAIC,CAAAA,KAAK,CAAG,CACVD,OAAO,CAAExB,UAAU,CAACwB,OADV,CAEVC,KAAK,CAAE,CACLH,QAAQ,CAAEtB,UAAU,CAACsB,QADhB,CAELC,MAAM,CAAEvB,UAAU,CAACuB,MAFd,CAGLG,QAAQ,CAAE1B,UAAU,CAAC0B,QAHhB,CAILR,KAAK,CAAEF,UAJF,CAKLI,SAAS,CAAEpB,UAAU,CAACoB,SALjB,CAMLO,IAAI,CAAE3B,UAAU,CAAC2B,IANZ,CAFG,CAAZ,CAWA5B,QAAQ,CAACX,QAAQ,CAACqC,KAAD,CAAT,CAAR,CACD,CACF,CAnBD,CAqBA,mBACE,qDACE,oBAAC,gBAAD,MADF,cAEE,oBAAC,WAAD,EAAa,OAAO,CAAC,UAArB,CAAgC,SAAS,KAAzC,CAA0C,SAAS,CAAE5B,OAAO,CAAC+B,WAA7D,eACE,oBAAC,UAAD,EAAY,EAAE,CAAC,mCAAf,WADF,cAEE,oBAAC,MAAD,EACE,OAAO,CAAC,mCADV,CAEE,EAAE,CAAC,6BAFL,CAGE,QAAQ,CAAE,kBAACC,KAAD,QAAW9B,CAAAA,QAAQ,CAACT,SAAS,CAACuC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAV,CAAnB,EAHZ,CAIE,KAAK,CAAC,QAJR,CAKE,KAAK,CAAE/B,UAAU,CAACuB,MALpB,CAME,SAAS,KANX,eAQE,oBAAC,QAAD,EAAU,KAAK,CAAE,gBAAjB,mBARF,cASE,oBAAC,QAAD,EAAU,KAAK,CAAE,eAAjB,kBATF,cAUE,oBAAC,QAAD,EAAU,KAAK,CAAE,iBAAjB,oBAVF,CAFF,CAFF,cAiBE,oBAAC,WAAD,EAAa,OAAO,CAAC,UAArB,CAAgC,SAAS,KAAzC,CAA0C,SAAS,CAAE1B,OAAO,CAAC+B,WAA7D,eACE,oBAAC,UAAD,EAAY,EAAE,CAAC,mCAAf,aADF,cAEE,oBAAC,MAAD,EACE,OAAO,CAAC,mCADV,CAEE,EAAE,CAAC,6BAFL,CAGE,QAAQ,CAAE,kBAACC,KAAD,QAAW9B,CAAAA,QAAQ,CAACP,WAAW,CAACqC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ,CAAnB,EAHZ,CAIE,KAAK,CAAC,UAJR,CAKE,KAAK,CAAE/B,UAAU,CAACsB,QALpB,CAME,SAAS,KANX,eAQE,oBAAC,QAAD,EAAU,KAAK,CAAE,iBAAjB,oBARF,cASE,oBAAC,QAAD,EAAU,KAAK,CAAE,eAAjB,kBATF,cAUE,oBAAC,QAAD,EAAU,KAAK,CAAE,eAAjB,kBAVF,CAFF,CAjBF,cAgCE,oBAAC,WAAD,EAAa,OAAO,CAAC,UAArB,CAAgC,SAAS,KAAzC,CAA0C,SAAS,CAAEzB,OAAO,CAAC+B,WAA7D,eACE,oBAAC,UAAD,EAAY,EAAE,CAAC,mCAAf,aADF,cAEE,oBAAC,MAAD,EACE,OAAO,CAAC,mCADV,CAEE,EAAE,CAAC,6BAFL,CAGE,KAAK,CAAC,UAHR,CAIE,QAAQ,CAAE,kBAACC,KAAD,QAAW9B,CAAAA,QAAQ,CAACL,WAAW,CAACmC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAZ,CAAnB,EAJZ,CAKE,KAAK,CAAE/B,UAAU,CAAC0B,QALpB,CAME,SAAS,KANX,eAQE,oBAAC,QAAD,EAAU,KAAK,CAAE,EAAjB,WARF,CAFF,CAhCF,cA6CE,oBAAC,IAAD,EAAM,SAAS,KAAf,eACE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,EAAtB,eACE,4BAAM,SAAS,CAAE7B,OAAO,CAACmC,SAAzB,CAAoC,UAAU,KAA9C,eACE,oBAAC,SAAD,EACE,EAAE,CAAC,MADL,CAEE,KAAK,CAAC,OAFR,CAGE,IAAI,CAAC,MAHP,CAIE,KAAK,CAAEhB,UAJT,CAKE,OAAO,CAAC,UALV,CAME,QAAQ,CAAE,kBAACa,KAAD,QAAWZ,CAAAA,aAAa,CAACY,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAxB,EANZ,CAOE,SAAS,CAAElC,OAAO,CAACoC,SAPrB,CAQE,eAAe,CAAE,CACfC,MAAM,CAAE,IADO,CARnB,EADF,CADF,CADF,cAiBE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,EAAtB,eACE,oBAAC,WAAD,EACE,OAAO,CAAC,UADV,CAEE,SAAS,KAFX,CAGE,SAAS,CAAErC,OAAO,CAAC+B,WAHrB,eAKE,oBAAC,UAAD,EAAY,EAAE,CAAC,mCAAf,YALF,cAQE,oBAAC,MAAD,EACE,OAAO,CAAC,mCADV,CAEE,EAAE,CAAC,6BAFL,CAGE,KAAK,CAAC,gBAHR,CAIE,KAAK,CAAE5B,UAAU,CAACwB,OAJpB,CAKE,QAAQ,CAAE,kBAACK,KAAD,QAAW9B,CAAAA,QAAQ,CAACR,UAAU,CAACsC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAX,CAAnB,EALZ,CAME,SAAS,KANX,EAQG9C,QAAQ,CAACkD,GAAT,CAAa,SAACX,OAAD,CAAa,CACzB,mBACE,oBAAC,QAAD,EAAU,GAAG,CAAEA,OAAf,CAAwB,KAAK,CAAEA,OAA/B,EACGA,OADH,CADF,CAKD,CANA,CARH,CARF,CADF,CAjBF,CA7CF,cA0FE,4BAAM,SAAS,CAAE3B,OAAO,CAACmC,SAAzB,CAAoC,UAAU,KAA9C,eACE,oBAAC,UAAD,EAAY,EAAE,CAAC,mCAAf,UADF,cAEE,oBAAC,gBAAD,EACE,OAAO,CAAE,CADX,CAEE,SAAS,CAAEnC,OAAO,CAACuC,QAFrB,CAGE,KAAK,CAAEpC,UAAU,CAAC2B,IAHpB,CAIE,QAAQ,CAAE,kBAACE,KAAD,QAAW9B,CAAAA,QAAQ,CAACJ,OAAO,CAACkC,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAR,CAAnB,EAJZ,CAKE,aAAW,gBALb,EAFF,CA1FF,cAoGE,oBAAC,gBAAD,EACE,SAAS,CAAElC,OAAO,CAACwC,iBADrB,CAEE,OAAO,cACL,oBAAC,QAAD,EACE,OAAO,CAAErC,UAAU,CAACoB,SAAX,GAAyB,CAAzB,CAA6B,IAA7B,CAAoC,KAD/C,CAEE,QAAQ,CAAED,eAFZ,CAGE,IAAI,CAAC,UAHP,CAIE,KAAK,CAAC,SAJR,EAHJ,CAUE,KAAK,CAAC,WAVR,EApGF,cAgHE,oBAAC,eAAD,EAAiB,SAAS,CAAEnB,UAAU,CAACoB,SAAvC,EAhHF,cAiHE,oBAAC,IAAD,EAAM,SAAS,KAAf,CAAgB,KAAK,CAAE,CAAEkB,SAAS,CAAE,EAAb,CAAvB,eACE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,EAAtB,eACE,oBAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,KAAK,CAAC,SAFR,CAGE,SAAS,KAHX,CAIE,OAAO,CAAE,yBACPvC,CAAAA,QAAQ,CAACV,WAAW,CAACW,UAAU,CAACuC,KAAZ,CAAmBvC,UAAU,CAACwB,OAA9B,CAAZ,CADD,EAJX,aADF,CADF,cAaE,oBAAC,IAAD,EAAM,IAAI,KAAV,CAAW,EAAE,CAAE,CAAf,CAAkB,EAAE,CAAE,EAAtB,eACE,oBAAC,MAAD,EACE,OAAO,CAAC,WADV,CAEE,KAAK,CAAC,SAFR,CAGE,SAAS,KAHX,CAIE,OAAO,CAAEH,UAJX,YADF,CAbF,CAjHF,CADF,CA4ID,CACD,GAAMvB,CAAAA,SAAS,CAAGjB,UAAU,CAAC,SAAC2D,KAAD,QAAY,CACvCZ,WAAW,CAAE,CACXa,MAAM,CAAE,EADG,CAD0B,CAIvCT,SAAS,CAAE,CACTS,MAAM,CAAE,EADC,CAETC,WAAW,CAAE,CAFJ,CAGTC,YAAY,CAAE,CAHL,CAITC,KAAK,CAAE,MAJE,CAJ4B,CAUvCX,SAAS,CAAE,CACTW,KAAK,CAAE,MADE,CAV4B,CAavCC,WAAW,CAAE,CACXC,UAAU,CAAE,EADD,CAb0B,CAgBvCT,iBAAiB,CAAE,CACjBI,MAAM,CAAE,EADS,CAEjBM,KAAK,CAAE,WAFU,CAGjBC,SAAS,CAAE,gBAHM,CAIjBJ,KAAK,CAAE,MAJU,CAhBoB,CAsBvCR,QAAQ,CAAE,CACRQ,KAAK,CAAE,MADC,CAERK,QAAQ,CAAE,MAFF,CAGRC,QAAQ,CAAE,MAHF,CAIRC,SAAS,CAAE,GAJH,CAKRC,SAAS,CAAE,GALH,CAMRC,WAAW,CAAE,SANL,CAORC,YAAY,CAAE,CAPN,CAQRhB,SAAS,CAAE,CARH,CAtB6B,CAiCvCiB,aAAa,CAAE,CAAEC,MAAM,CAAE,gBAAV,CAA4BC,OAAO,CAAE,EAArC,CAAyCX,UAAU,CAAE,CAArD,CAjCwB,CAAZ,EAAD,CAA5B","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport Grid from \"@material-ui/core/Grid\";\nimport Select from \"@material-ui/core/Select\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport Button from \"@material-ui/core/Button\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport TextField from \"@material-ui/core/TextField\";\nimport EditAgendaHeader from \"./EditAgendaHeader\";\nimport ProgramarAgenda from \"./ProgramarAgenda\";\nimport { horarios } from \"./itemsAgendaData\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { addTurno, borrarTurno } from \"../../../actions/AgendaActions\";\nimport {\n  setDoctor,\n  setHorario,\n  setPaciente,\n  setProgramar,\n  setServicio,\n  setNota,\n} from \"../../../actions/EditTurnoActions\";\n\nexport default function EditAgendaItem() {\n  const classes = useStyles();\n  const dispatch = useDispatch();\n  const turno_info = useSelector((state) => state.editTurnoReducer); //Para saber si estoy o no logueado en el sistema\n  const fechaCalendario = useSelector(\n    (state) => state.agenda_reducer.fecha_agenda\n  );\n\n  const fechaString = () => {\n    const ye = new Intl.DateTimeFormat(\"es\", { year: \"numeric\" }).format(\n      fechaCalendario\n    );\n    const mo = new Intl.DateTimeFormat(\"es\", { month: \"2-digit\" }).format(\n      fechaCalendario\n    );\n    const da = new Intl.DateTimeFormat(\"es\", { day: \"2-digit\" }).format(\n      fechaCalendario\n    );\n    return ye + \"-\" + mo + \"-\" + da;\n  };\n\n  const [fechaTurno, setFechaTurno] = useState(fechaString());\n\n  useEffect(() => {\n    if (turno_info.fecha !== \"\") setFechaTurno(turno_info.fecha);\n  }, [turno_info]);\n\n  const changeProgramar = () => {\n    dispatch(setProgramar(turno_info.programar === 0 ? 1 : 0));\n  };\n  const crearTurno = () => {\n    if (\n      turno_info.paciente !== \"\" &&\n      turno_info.doctor !== \"\" &&\n      turno_info.horario !== \"\"\n    ) {\n      let turno = {\n        horario: turno_info.horario,\n        turno: {\n          paciente: turno_info.paciente,\n          doctor: turno_info.doctor,\n          servicio: turno_info.servicio,\n          fecha: fechaTurno,\n          programar: turno_info.programar,\n          nota: turno_info.nota,\n        },\n      };\n      dispatch(addTurno(turno));\n    }\n  };\n\n  return (\n    <>\n      <EditAgendaHeader />\n      <FormControl variant=\"outlined\" fullWidth className={classes.formControl}>\n        <InputLabel id=\"demo-simple-select-outlined-label\">Doctor</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"demo-simple-select-outlined\"\n          onChange={(event) => dispatch(setDoctor(event.target.value))}\n          label=\"Doctor\"\n          value={turno_info.doctor}\n          fullWidth\n        >\n          <MenuItem value={\"Gines Gonzales\"}>Gines Gonzales</MenuItem>\n          <MenuItem value={\"Rene Favaloro\"}>Rene Favaloro</MenuItem>\n          <MenuItem value={\"Conrad Hawkings\"}>Conrad Hawkings</MenuItem>\n        </Select>\n      </FormControl>\n      <FormControl variant=\"outlined\" fullWidth className={classes.formControl}>\n        <InputLabel id=\"demo-simple-select-outlined-label\">Paciente</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"demo-simple-select-outlined\"\n          onChange={(event) => dispatch(setPaciente(event.target.value))}\n          label=\"Paciente\"\n          value={turno_info.paciente}\n          fullWidth\n        >\n          <MenuItem value={\"Ignacio Ledesma\"}>Ignacio Ledesma</MenuItem>\n          <MenuItem value={\"Gonzalo Berro\"}>Gonzalo Berro</MenuItem>\n          <MenuItem value={\"Matias Solimo\"}>Matias Solimo</MenuItem>\n        </Select>\n      </FormControl>\n      <FormControl variant=\"outlined\" fullWidth className={classes.formControl}>\n        <InputLabel id=\"demo-simple-select-outlined-label\">Servicio</InputLabel>\n        <Select\n          labelId=\"demo-simple-select-outlined-label\"\n          id=\"demo-simple-select-outlined\"\n          label=\"Servicio\"\n          onChange={(event) => dispatch(setServicio(event.target.value))}\n          value={turno_info.servicio}\n          fullWidth\n        >\n          <MenuItem value={30}>FSINET</MenuItem>\n        </Select>\n      </FormControl>\n      <Grid container>\n        <Grid item md={6} xs={12}>\n          <form className={classes.container} noValidate>\n            <TextField\n              id=\"date\"\n              label=\"Fecha\"\n              type=\"date\"\n              value={fechaTurno}\n              variant=\"outlined\"\n              onChange={(event) => setFechaTurno(event.target.value)}\n              className={classes.textField}\n              InputLabelProps={{\n                shrink: true,\n              }}\n            />\n          </form>\n        </Grid>\n        <Grid item md={6} xs={12}>\n          <FormControl\n            variant=\"outlined\"\n            fullWidth\n            className={classes.formControl}\n          >\n            <InputLabel id=\"demo-simple-select-outlined-label\">\n              Horario\n            </InputLabel>\n            <Select\n              labelId=\"demo-simple-select-outlined-label\"\n              id=\"demo-simple-select-outlined\"\n              label=\"Institución\"\n              value={turno_info.horario}\n              onChange={(event) => dispatch(setHorario(event.target.value))}\n              fullWidth\n            >\n              {horarios.map((horario) => {\n                return (\n                  <MenuItem key={horario} value={horario}>\n                    {horario}\n                  </MenuItem>\n                );\n              })}\n            </Select>\n          </FormControl>\n        </Grid>\n      </Grid>\n      <form className={classes.container} noValidate>\n        <InputLabel id=\"demo-simple-select-outlined-label\">Notas</InputLabel>\n        <TextareaAutosize\n          rowsMax={4}\n          className={classes.textArea}\n          value={turno_info.nota}\n          onChange={(event) => dispatch(setNota(event.target.value))}\n          aria-label=\"maximum height\"\n        />\n      </form>\n      <FormControlLabel\n        className={classes.checkBoxContainer}\n        control={\n          <Checkbox\n            checked={turno_info.programar === 1 ? true : false}\n            onChange={changeProgramar}\n            name=\"checkedB\"\n            color=\"primary\"\n          />\n        }\n        label=\"Programar\"\n      />\n      <ProgramarAgenda programar={turno_info.programar} />\n      <Grid container style={{ marginTop: 20 }}>\n        <Grid item md={4} xs={12}>\n          <Button\n            variant=\"contained\"\n            color=\"default\"\n            fullWidth\n            onClick={() =>\n              dispatch(borrarTurno(turno_info.index, turno_info.horario))\n            }\n          >\n            Eliminar\n          </Button>\n        </Grid>\n        <Grid item md={8} xs={12}>\n          <Button\n            variant=\"contained\"\n            color=\"primary\"\n            fullWidth\n            onClick={crearTurno}\n          >\n            Guardar\n          </Button>\n        </Grid>\n      </Grid>\n    </>\n  );\n}\nconst useStyles = makeStyles((theme) => ({\n  formControl: {\n    margin: 10,\n  },\n  container: {\n    margin: 10,\n    marginRight: 0,\n    paddingRight: 0,\n    width: \"100%\",\n  },\n  textField: {\n    width: \"100%\",\n  },\n  spanRepetir: {\n    paddingTop: 20,\n  },\n  checkBoxContainer: {\n    margin: 10,\n    color: \"#0000008a\",\n    borderTop: \"1px solid #ccc\",\n    width: \"100%\",\n  },\n  textArea: {\n    width: \"100%\",\n    maxWidth: \"100%\",\n    minWidth: \"100%\",\n    minHeight: 100,\n    maxHeight: 100,\n    borderColor: \"#c4c4c4\",\n    borderRadius: 5,\n    marginTop: 5,\n  },\n\n  gridContainer: { border: \"1px solid #ccc\", padding: 30, paddingTop: 0 },\n}));\n"]},"metadata":{},"sourceType":"module"}